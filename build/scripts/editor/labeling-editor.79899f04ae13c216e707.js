/*! build from Thu Aug 09 2018 */
webpackJsonp_name_([2],{619:function(e,t,i){"use strict";function o(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function r(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function n(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function a(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function s(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}Object.defineProperty(t,"__esModule",{value:!0});var l,c,p,u,h,g,d,v,y,m,f,b,_,O,k,E,L,A,w,D=i(29),x=i.n(D),T=i(28),C=i.n(T),R=i(38),j=i.n(R),B=i(36),P=i.n(B),S=i(171),z=i.n(S),M=i(37),H=i.n(M),U=i(82),I=i.n(U),N=i(83),W=i.n(N),V=i(620),F=i.n(V),Y=i(621),X=i.n(Y),K=i(637),Z=i.n(K),G=i(172),q=i.n(G),J=i(287),$=i.n(J),Q=i(283),ee=i.n(Q),te=i(624),ie=i(640),oe=i(281),re=i.n(oe),ne=i(291),ae=i.n(ne),se={CREATE_LABEL:"CREATE_LABEL",UPDATE_LABEL:"UPDATE_LABEL",REMOVE_LABEL:"REMOVE_LABEL"},le=se,ce=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(se,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/store/types.js")}(),i(57)),pe=i(644),ue=x()({},pe.a,(l={},re()(l,le.CREATE_LABEL,function(e){return x()({},e,{labels:e.labels.slice(0).concat(e.model.defaultLabelProps)})}),re()(l,le.UPDATE_LABEL,function(e,t){var i=t.payload,o=i.index,r=i.labelOptions,n=e.labels.slice(0);return n[o]=ae()({},n[o],r),x()({},e,{labels:n})}),re()(l,le.REMOVE_LABEL,function(e,t){for(var i=[],o=0;o<e.labels.length;o++)o!==t.payload&&i.push(e.labels[o]);return x()({},e,{labels:i})}),l)),he=Object(ce.f)(ue,ce.d),ge=he,de=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ue,"reducers","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/store/reducers.js"),__REACT_HOT_LOADER__.register(he,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/store/reducers.js"))}(),i(284)),ve=i(81),ye=i(627),me=Symbol("@@materials"),fe=(c={},re()(c,me,{}),re()(c,"fields",x()({},ye.a.fields,{image:function(){this.getMaterial("activityModal").setTab(0)},labels:function(){this.getMaterial("activityModal").setTab(0)},labelValue:function(){this.getMaterial("activityModal").setTab(0)}})),re()(c,"getMaterial",function(e){return e in this[me]?this[me][e]:ye.a.getMaterial(e)}),re()(c,"setMaterial",function(e,t){e in this[me]?this[me][e]=t:ye.a.setMaterial(e,t)}),re()(c,"execute",ye.a.execute),c),be=fe,_e=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(me,"materials","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/validation-strategy.js"),__REACT_HOT_LOADER__.register(fe,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/validation-strategy.js"))}(),i(785)),Oe=(i(168),i(786)),ke=i(280),Ee=i.n(ke),Le=i(169),Ae=i(787),we=(p=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.id=Object(ce.p)(),r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"onChange",value:function(e){var t=this.props.onChange;t&&t(e.target.value)}},{key:"render",value:function(){return F.a.createElement("div",{className:Ee()(Ae.inputBlock,this.props.className)},this.label,F.a.createElement("input",{id:"input-"+this.id,value:this.props.value,onChange:this.onChange,className:Object(ce.a)(Ae.inputBlock,"area")}))}},{key:"label",get:function(){return this.props.label?F.a.createElement("label",{className:Object(ce.a)(Ae.inputBlock,"label"),htmlFor:"input-"+this.id},this.props.label):null}}]),t}(V.PureComponent),function(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(p.prototype,"onChange",[Le.a],Object.getOwnPropertyDescriptor(p.prototype,"onChange"),p.prototype),p),De=we,xe=De,Te=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(we,"Input","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/common/editor/components/Input.jsx"),__REACT_HOT_LOADER__.register(De,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/common/editor/components/Input.jsx"))}(),i(653)),Ce=F.a.createElement("span",null,"Allow retry"),Re=F.a.createElement("span",null,"Show answers"),je=F.a.createElement("span",null,"Feedback sounds"),Be=(u=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.scoreMaxValue=999,r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"handleChangeScore",value:function(e){var t=parseInt(e);Number.isFinite(t)&&t<=this.scoreMaxValue?this.props.setActivityOptions("score",t):""===e&&this.props.setActivityOptions("score",0)}},{key:"render",value:function(){return F.a.createElement("div",{className:Oe.buttonsLineBlock},F.a.createElement(xe,this.scoreProps),F.a.createElement("div",{className:Object(ce.a)(Oe.buttonsLineBlock,"show-restart")},Ce,F.a.createElement(Te.a,this.showRestartProps)),F.a.createElement("div",{className:Object(ce.a)(Oe.buttonsLineBlock,"show-answers")},Re,F.a.createElement(Te.a,this.showAnswersProps)),F.a.createElement("div",{className:Object(ce.a)(Oe.buttonsLineBlock,"play-feedback-sounds")},je,F.a.createElement(Te.a,this.playFeedbackSoundsProps)))}},{key:"showRestartProps",get:function(){return{value:this.props.showRestart,onChange:this.props.setActivityOptions.bind(null,"showRestart")}}},{key:"showAnswersProps",get:function(){return{value:this.props.showAnswers,onChange:this.props.setActivityOptions.bind(null,"showAnswers")}}},{key:"playFeedbackSoundsProps",get:function(){return{value:this.props.playFeedbackSounds,onChange:this.props.setActivityOptions.bind(null,"playFeedbackSounds")}}},{key:"scoreProps",get:function(){return{label:"Max points",value:this.props.score,className:Ee()(Object(ce.a)(Ae.inputBlock,null,"border"),Object(ce.a)(Ae.inputBlock,null,"round"),Object(ce.a)(Ae.inputBlock,null,"transparent"),Object(ce.a)(Ae.inputBlock,null,"fixed-small")),onChange:this.handleChangeScore}}}]),t}(V.PureComponent),function(e,t,i,o,r){var n={};return Object.keys(o).forEach(function(e){n[e]=o[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(u.prototype,"handleChangeScore",[Le.a],Object.getOwnPropertyDescriptor(u.prototype,"handleChangeScore"),u.prototype),u),Pe=Be,Se=Pe,ze=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Be,"ButtonsLine","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/ButtonsLine.jsx"),__REACT_HOT_LOADER__.register(Pe,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/ButtonsLine.jsx"))}(),i(788)),Me=i(789),He=i(622),Ue=F.a.createElement("br",null),Ie=F.a.createElement("br",null),Ne=F.a.createElement("br",null),We=(h=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={draggingOverTarget:!1,inputKey:Date.now()},r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"componentWillMount",value:function(){window.addEventListener("dragover",this.onWindowDragOverOrDrop),window.addEventListener("drop",this.onWindowDragOverOrDrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragover",this.onWindowDragOverOrDrop),window.removeEventListener("drop",this.onWindowDragOverOrDrop)}},{key:"onWindowDragOverOrDrop",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){var t=this.props.onDrop;if(e.preventDefault(),this.setState({draggingOverTarget:!1}),t){t(e.dataTransfer?e.dataTransfer.files:null,e)}}},{key:"onDragLeave",value:function(e){var t=this.props.onDragLeave;this.setState({draggingOverTarget:!1}),t&&t(e)}},{key:"onDragOver",value:function(e){var t=this.props,i=t.dropEffect,o=t.onDragOver;e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=i;var r=e.dataTransfer.effectAllowed;"all"!==r&&"uninitialized"!==r||this.setState({draggingOverTarget:!0}),o&&o(e)}},{key:"onChange",value:function(e){var t=this.props.onChange,i=e.target.files;t&&t(i,e),this.setState({inputKey:Date.now()})}},{key:"render",value:function(){var e=this.props.icon;return F.a.createElement("div",this.dropzoneProps,F.a.createElement("div",this.layoutProps,F.a.createElement("div",{className:Object(ce.a)(Me.dropZoneBlock,"content")},e,e&&Ue,"Drag and drop to upload",Ie,"or",Ne,F.a.createElement(He.c,this.selectFileButtonProps,"Select file"),F.a.createElement("input",this.loadButtonProps))))}},{key:"dropzoneProps",get:function(){return{ref:"dropzone",className:Ee()(Me.dropZoneBlock,this.props.className),onDrop:this.onDrop,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver}}},{key:"layoutProps",get:function(){return{className:Ee()(Object(ce.a)(Me.dropZoneBlock,"layout"),re()({},Object(ce.a)(Me.dropZoneBlock,"layout","active"),this.state.draggingOverTarget))}}},{key:"selectFileButtonProps",get:function(){var e=this;return{className:Ee()(Object(ce.a)(He.a,null,"fill"),Object(ce.a)(He.a,null,"round"),Object(ce.a)(He.a,null,"shadow"),Object(ce.a)(He.a,null,"h-indent")),onClick:function(){return e.refs.loadButton.click()}}}},{key:"loadButtonProps",get:function(){var e=this.props.mimeType,t={ref:"loadButton",type:"file",key:this.state.inputKey,className:ve.h.HIDDEN,onChange:this.onChange,multiple:!0};return t.accept=e.join(","),t}}]),t}(V.PureComponent),o(h.prototype,"onWindowDragOverOrDrop",[Le.a],Object.getOwnPropertyDescriptor(h.prototype,"onWindowDragOverOrDrop"),h.prototype),o(h.prototype,"onDrop",[Le.a],Object.getOwnPropertyDescriptor(h.prototype,"onDrop"),h.prototype),o(h.prototype,"onDragLeave",[Le.a],Object.getOwnPropertyDescriptor(h.prototype,"onDragLeave"),h.prototype),o(h.prototype,"onDragOver",[Le.a],Object.getOwnPropertyDescriptor(h.prototype,"onDragOver"),h.prototype),o(h.prototype,"onChange",[Le.a],Object.getOwnPropertyDescriptor(h.prototype,"onChange"),h.prototype),h),Ve=We,Fe=Ve,Ye=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(We,"DropZone","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/common/editor/components/DropZone.jsx"),__REACT_HOT_LOADER__.register(Ve,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/common/editor/components/DropZone.jsx"))}(),i(654)),Xe=i(115),Ke=i.n(Xe),Ze=i(790),Ge=i(628),qe=i.n(Ge),Je=function(e){function t(){return C()(this,t),P()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H()(t,e),j()(t,[{key:"render",value:function(){return F.a.createElement("image",this.imageProps)}},{key:"boundingBox",get:function(){var e=this.props.viewBox;return{x:0,y:0,width:e.width,height:e.height}}},{key:"imageProps",get:function(){var e=this.boundingBox,t=1-this.props.margin/100,i=(e.width-e.width*t)/2,o=(e.height-e.height*t)/2;return x()({},e,{transform:"matrix("+t+", 0, 0, "+t+", "+i+", "+o+")",xlinkHref:this.props.url})}}]),t}(V.PureComponent),$e=Je,Qe=$e,et=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Je,"SvgImage","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgImage.jsx"),__REACT_HOT_LOADER__.register($e,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgImage.jsx"))}(),i(791)),tt=(g=Object(Le.e)(0),d=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.strokeWidthDivider=10,o.circleCurrentX=0,o.circleCurrentY=0,o.ratioWidth=0,o.ratioHeight=0,o.zoneCircleRadius=3,r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"componentDidUpdate",value:function(e){var t=e.label.lineOptions,i=t.dot1,o=t.dot2,r=this.props.label.lineOptions,n=r.dot1,a=r.dot2;i.x===n.x&&i.y===n.y&&o.x===a.x&&o.y===a.y||this.props.updateBackground()}},{key:"onCircleMouseDown",value:function(e){var t=Object(ce.e)(e),i=t.x,o=t.y;this.circleCurrentX=i,this.circleCurrentY=o,this.updateRatioSize(),document.addEventListener(ve.t.move,this.onCircleMouseMove,{passive:!1}),document.addEventListener(ve.t.end,this.onCircleMouseUp)}},{key:"onCircleMouseMove",value:function(e){e.preventDefault();var t=Object(ce.e)(e),i=t.x,o=t.y,r=this.props.label.lineOptions.dot2,n=i-this.circleCurrentX,a=o-this.circleCurrentY;r.x+=n*this.ratioWidth,r.y+=a*this.ratioHeight,this.circleCurrentX=i,this.circleCurrentY=o,this.forceUpdate(),this.props.updateBackground()}},{key:"onCircleMouseUp",value:function(){document.removeEventListener(ve.t.move,this.onCircleMouseMove,{passive:!1}),document.removeEventListener(ve.t.end,this.onCircleMouseUp)}},{key:"updateRatioSize",value:function(){var e=this.props,t=e.viewBox,i=e.getSvgBB,o=i();this.ratioWidth=t.width/o.width,this.ratioHeight=t.height/o.height}},{key:"render",value:function(){var e=this.props.label;return F.a.createElement("g",{id:"group-"+e.labelId,className:et.svgLineBlock},this.lineMask,this.zoneRectangle,this.zoneCircle,this.line,this.circle)}},{key:"strokeWidth",get:function(){return this.props.lineWidth/this.strokeWidthDivider}},{key:"circleRadius",get:function(){return.7+this.strokeWidth}},{key:"lineMask",get:function(){var e=this.props,t=e.label,i=e.zoneRectangleSize,o=t.lineOptions,r=o.dot1,n=o.dot2;return F.a.createElement("mask",{id:"mask-"+t.labelId,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},F.a.createElement("line",{x1:r.x,x2:n.x,y1:r.y,y2:n.y,stroke:"white",strokeWidth:this.strokeWidth}),F.a.createElement("rect",{id:"mask-rect-"+t.labelId,rx:"0.5",ry:"0.5",x:r.x-i.width/2,y:r.y-i.height/2,width:i.width,height:i.height,className:ve.h.HIDDEN,fill:"black"}),F.a.createElement("circle",{id:"mask-circle-"+t.labelId,cx:r.x,cy:r.y,r:this.zoneCircleRadius,className:ve.h.HIDDEN,fill:"black"}),F.a.createElement("circle",{cx:n.x,cy:n.y,r:this.circleRadius,fill:"black"}))}},{key:"zoneCircle",get:function(){var e=this.props,t=e.label,i=e.lineColor,o=t.lineOptions.dot1,r=o.x,n=o.y;return F.a.createElement("circle",{id:"zone-circle-"+t.labelId,cx:r,cy:n,r:this.zoneCircleRadius,fill:"transparent",stroke:i,strokeDasharray:"1, 1",className:ve.h.HIDDEN,strokeWidth:this.strokeWidth})}},{key:"zoneRectangle",get:function(){var e=this.props,t=e.label,i=e.lineColor,o=e.zoneRectangleSize,r=t.lineOptions.dot1,n=r.x,a=r.y,s=o.width,l=o.height;return F.a.createElement("rect",{id:"zone-rect-"+t.labelId,rx:"0.5",ry:"0.5",x:n-s/2,y:a-l/2,width:s,height:l,fill:"transparent",stroke:i,strokeDasharray:"1, 1",className:ve.h.HIDDEN,strokeWidth:this.strokeWidth})}},{key:"line",get:function(){var e=this.props,t=e.label,i=e.lineColor,o=t.lineOptions,r=o.dot1,n=o.dot2;return F.a.createElement("line",{x1:r.x,x2:n.x,y1:r.y,y2:n.y,stroke:i,strokeWidth:this.strokeWidth,mask:"url(#mask-"+t.labelId+")"})}},{key:"circle",get:function(){var e=this.props,t=e.label,i=e.lineColor,o=t.lineOptions.dot2,r=o.x,n=o.y;return F.a.createElement("circle",{id:"circle-"+t.labelId,cx:r,cy:n,r:this.circleRadius,className:Object(ce.a)(et.svgLineBlock,"circle"),stroke:i,strokeWidth:this.strokeWidth,fill:"transparent",onTouchStart:this.onCircleMouseDown,onMouseDown:this.onCircleMouseDown})}}]),t}(V.PureComponent),r(d.prototype,"onCircleMouseDown",[Le.a],Object.getOwnPropertyDescriptor(d.prototype,"onCircleMouseDown"),d.prototype),r(d.prototype,"onCircleMouseMove",[Le.a,g],Object.getOwnPropertyDescriptor(d.prototype,"onCircleMouseMove"),d.prototype),r(d.prototype,"onCircleMouseUp",[Le.a],Object.getOwnPropertyDescriptor(d.prototype,"onCircleMouseUp"),d.prototype),d),it=tt,ot=it,rt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(tt,"SvgLine","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgLine.jsx"),__REACT_HOT_LOADER__.register(it,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgLine.jsx"))}(),i(792)),nt=(v=Object(Le.e)(0),y=Object(Le.e)(0),m=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.width=293,o.resizeDelay=1e3,o.currentX=0,o.currentY=0,o.maxAltTextSymbols=110,o.maxValueSymbols=75,o.isFocusAltText=!1,o.isFocusValue=!1,r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"componentDidMount",value:function(){this.onTransitionEndAltText(),this.updateValueStyle(),window.addEventListener(ve.w,this.onResize)}},{key:"componentDidUpdate",value:function(e){e.label.value!==this.props.label.value&&this.updateValueStyle()}},{key:"componentWillUnmount",value:function(){window.removeEventListener(ve.w,this.onResize)}},{key:"onResize",value:function(){this.forceUpdate(),clearTimeout(this.resizeDebouncing),this.resizeDebouncing=setTimeout(this.onResize,this.resizeDelay)}},{key:"onMouseDown",value:function(e){var t=Object(ce.e)(e),i=t.x,o=t.y;this.currentX=i,this.currentY=o,document.addEventListener(ve.t.move,this.onMouseMove,{passive:!1}),document.addEventListener(ve.t.end,this.onMouseUp)}},{key:"onMouseMove",value:function(e){e.preventDefault();var t=this.ratioSize.viewBoxOnOriginal,i=t.width,o=t.height,r=this.props,n=r.updateLabel,a=r.index,s=r.label,l=s.lineOptions.dot1,c=Object(ce.e)(e),p=c.x,u=c.y,h=p-this.currentX,g=u-this.currentY;this.currentX=p,this.currentY=u,n({lineOptions:{dot1:{x:l.x+h*i,y:l.y+g*o}}},a)}},{key:"onMouseUp",value:function(){document.removeEventListener(ve.t.move,this.onMouseMove,{passive:!1}),document.removeEventListener(ve.t.end,this.onMouseUp)}},{key:"onKeyPress",value:function(e){(e.charCode?e.charCode:e.keyCode?e.keyCode:0)===ve.n.ENTER&&(e.preventDefault(),e.target.blur())}},{key:"onChangeValue",value:function(e){e.target.value.length<=this.maxValueSymbols&&this.props.updateLabel({value:e.target.value},this.props.index)}},{key:"onChangeAltText",value:function(e){e.target.value.length<=this.maxAltTextSymbols&&this.props.updateLabel({altText:e.target.value},this.props.index)}},{key:"onTransitionEndAltText",value:function(){this.isFocusAltText||this.isFocusValue||(this.refs.altTextWrapper.style.display="none")}},{key:"updateAltTextHeight",value:function(){var e=this.refs.altTextWrapper;this.isFocusAltText||this.isFocusValue?(e.style.removeProperty("display"),requestAnimationFrame(function(){e.style.paddingTop=rt.svgLabelAltTextPadding,e.style.height=rt.svgLabelAltTextHeight,ve.u||(e.style.paddingBottom=rt.svgLabelAltTextPadding)})):(e.style.removeProperty("padding-top"),e.style.removeProperty("height"),ve.u||e.style.removeProperty("padding-bottom"))}},{key:"onFocusAltText",value:function(){this.isFocusAltText=!0,this.updateAltTextHeight()}},{key:"onBlurAltText",value:function(){this.isFocusAltText=!1,this.updateAltTextHeight()}},{key:"onFocusValue",value:function(){this.isFocusValue=!0,this.updateAltTextHeight()}},{key:"onBlurValue",value:function(){this.isFocusValue=!1,this.updateAltTextHeight()}},{key:"updateValueStyle",value:function(){var e=this.refs.labelValue,t=this.props.label.value;if(e){var i=e.style;if(t){var o=parseFloat(getComputedStyle(e.parentNode).height);i.removeProperty("font-size");var r=parseFloat(getComputedStyle(e).fontSize);i.paddingTop=0,i.paddingBottom=0,i.height="1px";for(var n=e.scrollHeight;e.scrollHeight>o&&r>0;)i.fontSize=r+"px",n=e.scrollHeight,r--;i.height=n+"px"}else i.removeProperty("padding-top"),i.removeProperty("padding-bottom"),i.removeProperty("height"),i.removeProperty("font-size")}}},{key:"render",value:function(){var e=this.props.label;return F.a.createElement("div",{className:rt.svgLabelBlock,style:this.style},F.a.createElement(He.c,this.removeButtonProps),F.a.createElement(He.c,this.moveButtonProps),F.a.createElement("div",{className:Object(ce.a)(rt.svgLabelBlock,"alt-text"),ref:"altTextWrapper",onTransitionEnd:this.onTransitionEndAltText},F.a.createElement("textarea",{placeholder:"alt text",onKeyPress:this.onKeyPress,onChange:this.onChangeAltText,onFocus:this.onFocusAltText,onBlur:this.onBlurAltText,value:e.altText})),F.a.createElement("div",{className:Object(ce.a)(rt.svgLabelBlock,"value")},F.a.createElement("textarea",{ref:"labelValue",placeholder:"Label",onKeyPress:this.onKeyPress,onChange:this.onChangeValue,onFocus:this.onFocusValue,onBlur:this.onBlurValue,value:e.value})))}},{key:"ratioSize",get:function(){var e=this.props,t=e.viewBox,i=e.getSvgBB,o=i();return{originalOnViewBox:{width:o.width/t.width,height:o.height/t.height},viewBoxOnOriginal:{width:t.width/o.width,height:t.height/o.height}}}},{key:"style",get:function(){var e=this.ratioSize.originalOnViewBox,t=e.width,i=e.height,o=this.props,r=o.label,n=o.lineColor,a=o.zoneRectangleSize,s=a.width,l=a.height,c=r.lineOptions.dot1,p=c.x,u=c.y,h=u-l/2,g=p-s/2;return x()({width:this.width,top:h*i,left:g*t,borderColor:n},Object(ce.g)("transform","scale("+s*t/this.width+")",!0))}},{key:"removeButtonProps",get:function(){var e=this.props,t=e.index,i=e.removeLabel;return{className:Ee()(Object(ce.a)(He.a,null,"fill"),Object(ce.a)(He.a,null,"square"),Object(ce.a)(He.a,null,"round"),Object(ce.a)(He.a,null,"shadow"),Object(ce.a)(rt.svgLabelBlock,"remove")),icon:"i-trash",onClick:function(){return i(t)}}}},{key:"moveButtonProps",get:function(){return{className:Ee()(Object(ce.a)(He.a,null,"fill"),Object(ce.a)(He.a,null,"square"),Object(ce.a)(He.a,null,"round"),Object(ce.a)(He.a,null,"shadow"),Object(ce.a)(rt.svgLabelBlock,"move")),icon:"i-move",onMouseDown:this.onMouseDown}}}]),t}(V.PureComponent),n(m.prototype,"onResize",[Le.a,v],Object.getOwnPropertyDescriptor(m.prototype,"onResize"),m.prototype),n(m.prototype,"onMouseDown",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onMouseDown"),m.prototype),n(m.prototype,"onMouseMove",[Le.a,y],Object.getOwnPropertyDescriptor(m.prototype,"onMouseMove"),m.prototype),n(m.prototype,"onMouseUp",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onMouseUp"),m.prototype),n(m.prototype,"onKeyPress",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onKeyPress"),m.prototype),n(m.prototype,"onChangeValue",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onChangeValue"),m.prototype),n(m.prototype,"onChangeAltText",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onChangeAltText"),m.prototype),n(m.prototype,"onTransitionEndAltText",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onTransitionEndAltText"),m.prototype),n(m.prototype,"onFocusAltText",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onFocusAltText"),m.prototype),n(m.prototype,"onBlurAltText",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onBlurAltText"),m.prototype),n(m.prototype,"onFocusValue",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onFocusValue"),m.prototype),n(m.prototype,"onBlurValue",[Le.a],Object.getOwnPropertyDescriptor(m.prototype,"onBlurValue"),m.prototype),m),at=nt,st=at,lt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(nt,"SvgLabel","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgLabel.jsx"),__REACT_HOT_LOADER__.register(at,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/SvgLabel.jsx"))}(),void 0),ct=F.a.createElement(qe.a,{id:"remove-image-tooltip",type:"info",effect:"solid"},F.a.createElement("span",null,"Remove")),pt=(f=Object(Le.b)(),b=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.NS="http://www.w3.org/2000/svg",o.Xlink="http://www.w3.org/1999/xlink",o.state={viewBox:o.props.image?o.getViewBoxByImage(o.props.image):o.defaultViewBox},o.zoneRectangleSize={width:23,height:8},r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"componentDidMount",value:function(){ve.u&&(this.updateSvgSize(),window.addEventListener("resize",this.updateSvgSize))}},{key:"componentDidUpdate",value:function(e){var t=this,i=e.image,o=e.labels,r=e.lineColor,n=e.lineWidth,a=e.imageMargin,s=this.props,l=s.image,c=s.labels,p=s.lineColor,u=s.lineWidth,h=s.imageMargin;(i===l||null!==i&&null!==l&&i.url===l.url&&i.width===l.width&&i.height===l.height)&&(null===l||o.length===c.length&&r===p&&n===u&&a===h)||(l&&this.setState({viewBox:this.getViewBoxByImage(l)},function(){ve.u&&t.updateSvgSize()}),this.updateBackground())}},{key:"componentWillUnmount",value:function(){ve.u&&window.removeEventListener("resize",this.updateSvgSize)}},{key:"onRemoveImage",value:function(){var e=this;this.props.setActivityOptions({labels:[],image:null,background:""}),this.setState({viewBox:this.defaultViewBox},function(){ve.u&&e.updateSvgSize()})}},{key:"getViewBoxByImage",value:function(e){var t=e.width,i=e.height;return{top:0,left:0,width:100,height:i/(t/100)}}},{key:"getSvgBB",value:function(){var e=this;if(this.refs.svg)lt=this.refs.svg.getBoundingClientRect();else{var t=0;!function i(){e.refs.svg||1e3===t?e.forceUpdate():(t++,requestAnimationFrame(i))}()}return lt}},{key:"updateBackground",value:function(){this.props.setActivityOptions({background:this.refs.svg.outerHTML})}},{key:"updateSvgSize",value:function(){var e=this.refs.svg,t=this.state.viewBox;if(e){var i=parseFloat(getComputedStyle(e).width);e.setAttribute("height",i/t.width*t.height)}}},{key:"render",value:function(){var e=this.labelsAndLines,t=e.labels,i=e.lines;return F.a.createElement("div",{className:Ze.labelingSvgBlock},F.a.createElement("svg",{ref:"svg",xmlns:this.NS,xmlnsXlink:this.Xlink,viewBox:this.viewBoxString},this.image,i),t,this.removeImageButton)}},{key:"defaultViewBox",get:function(){return{top:0,left:0,width:100,height:60}}},{key:"viewBoxString",get:function(){var e=this.state.viewBox,t=e.top;return e.left+" "+t+" "+e.width+" "+e.height}},{key:"image",get:function(){var e=this.props,t=e.image,i=e.imageMargin;return t?F.a.createElement(Qe,x()({},t,{viewBox:this.state.viewBox,margin:i})):null}},{key:"labelsAndLines",get:function(){var e=this.props,t=e.labels,i=e.lineColor,o=e.lineWidth,r=e.updateLabel,n=e.removeLabel,a=[],s=[],l=!0,c=!1,p=void 0;try{for(var u,h=t.entries()[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var g=Ke()(u.value,2),d=g[0],v=g[1];s.push(F.a.createElement(ot,{key:v.labelId,label:v,lineColor:i,lineWidth:o,viewBox:this.state.viewBox,getSvgBB:this.getSvgBB,zoneRectangleSize:this.zoneRectangleSize,updateBackground:this.updateBackground})),a.push(F.a.createElement(st,{key:v.labelId,index:d,label:v,lineColor:i,viewBox:this.state.viewBox,getSvgBB:this.getSvgBB,updateLabel:r,removeLabel:n,zoneRectangleSize:this.zoneRectangleSize}))}}catch(e){c=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw p}}return{labels:a,lines:s}}},{key:"removeImageButton",get:function(){var e=this.props.image,t={className:Ee()(Object(ce.a)(He.a,null,"fill"),Object(ce.a)(He.a,null,"square"),Object(ce.a)(He.a,null,"round"),Object(ce.a)(He.a,null,"shadow")),icon:"i-trash",onClick:this.onRemoveImage};return e?F.a.createElement("div",{className:Object(ce.a)(Ze.labelingSvgBlock,"remove-image"),"data-tip":!0,"data-for":"remove-image-tooltip"},F.a.createElement(He.c,t),ct):null}}]),t}(V.PureComponent),a(b.prototype,"onRemoveImage",[Le.a],Object.getOwnPropertyDescriptor(b.prototype,"onRemoveImage"),b.prototype),a(b.prototype,"getSvgBB",[Le.a],Object.getOwnPropertyDescriptor(b.prototype,"getSvgBB"),b.prototype),a(b.prototype,"updateBackground",[Le.a],Object.getOwnPropertyDescriptor(b.prototype,"updateBackground"),b.prototype),a(b.prototype,"updateSvgSize",[Le.a,f],Object.getOwnPropertyDescriptor(b.prototype,"updateSvgSize"),b.prototype),b),ut=pt,ht=ut,gt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(lt,"lastSvgBB","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/LabelingSvg.jsx"),__REACT_HOT_LOADER__.register(pt,"LabelingSvg","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/LabelingSvg.jsx"),__REACT_HOT_LOADER__.register(ut,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelingSvg/LabelingSvg.jsx"))}(),F.a.createElement("svg",{viewBox:"0 0 100 100",width:"100"},F.a.createElement("circle",{cx:"50",cy:"50",r:"47",stroke:"#a2acd5",strokeWidth:"3",fill:"transparent"}),F.a.createElement("circle",{cx:"38",cy:"30",r:"8",stroke:"#a2acd5",strokeWidth:"4",fill:"transparent"}),F.a.createElement("path",{stroke:"#a2acd5",strokeWidth:"4",fill:"transparent",d:"M 25 75 L 57 43 L 80 65",strokeLinecap:"round"}))),dt=function(){return gt},vt=F.a.createElement(dt,null),yt=(_=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.imageMarginMaxValue=50,r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"handleChangeMargin",value:function(e){var t=parseInt(e);Number.isFinite(t)&&t<=this.imageMarginMaxValue?this.props.setActivityOptions("imageMargin",t):""===e&&this.props.setActivityOptions("imageMargin",0)}},{key:"handleCreateLabel",value:function(){this.props.image&&this.props.createLabel()}},{key:"handleUploadImage",value:function(e){var t=this,i=e[0];if(-1!==i.type.indexOf("image")){var o=new FileReader;o.onloadend=function(e){if(e.target.readyState===FileReader.DONE){var i=new Image;i.onload=function(){return t.props.setActivityOptions("image",{url:e.target.result,width:i.width,height:i.height})},i.src=e.target.result}else Object(ce.i)(ve.p.UPLOAD_READ_FILE_ERROR)},o.readAsDataURL(i,"utf-8")}else Object(ce.i)(ve.p.UPLOAD_TYPE_FILE_ERROR)}},{key:"render",value:function(){return F.a.createElement("div",{className:ze.labelsLayoutBlock},F.a.createElement("div",{className:Object(ce.a)(ze.labelsLayoutBlock,"header")},F.a.createElement(Ye.a,this.lineWidthButtonProps,"line width"),F.a.createElement(He.c,this.lineColorButtonProps,"line color"),F.a.createElement(xe,this.imageMarginProps),F.a.createElement(He.c,this.newLabelButtonProps,"new label")),F.a.createElement("div",{className:Object(ce.a)(ze.labelsLayoutBlock,"body")},F.a.createElement(ht,this.labelingSvgProps),!this.props.image&&F.a.createElement(Fe,this.dropZoneProps)))}},{key:"lineColorButtonProps",get:function(){return{type:"color",color:this.props.lineColor,onChange:this.props.setActivityOptions.bind(null,"lineColor"),className:Ee()(Object(ce.a)(He.a,null,"border"),Object(ce.a)(He.a,null,"fixed"),Object(ce.a)(He.a,null,"round"))}}},{key:"lineWidthButtonProps",get:function(){var e=this,t=void 0;return{list:ve.o.LINE_WIDTH_LIST.map(function(i){var o=F.a.createElement("span",{key:i,style:{borderWidth:i+"px"},className:Object(ce.a)(ze.labelsLayoutBlock,"line-width-item")});return i===e.props.lineWidth&&(t=o),o}),value:t,title:"line width",className:Ee()(Object(ce.a)(Ye.b,null,"fixed")),onChange:function(t){e.props.setActivityOptions("lineWidth",parseInt(t.key))}}}},{key:"imageMarginProps",get:function(){return{label:"Image margin",value:this.props.imageMargin,className:Ee()(Object(ce.a)(Ae.inputBlock,null,"border"),Object(ce.a)(Ae.inputBlock,null,"round"),Object(ce.a)(Ae.inputBlock,null,"fixed-small")),onChange:this.handleChangeMargin}}},{key:"newLabelButtonProps",get:function(){return{className:Ee()(Object(ce.a)(He.a,null,"fill"),Object(ce.a)(He.a,null,"fixed"),Object(ce.a)(He.a,null,"round")),onClick:this.handleCreateLabel}}},{key:"dropZoneProps",get:function(){return{icon:vt,mimeType:["image/*"],onDrop:this.handleUploadImage,onChange:this.handleUploadImage,className:Object(ce.a)(ze.labelsLayoutBlock,"dropzone")}}},{key:"labelingSvgProps",get:function(){return{image:this.props.image,labels:this.props.labels,lineColor:this.props.lineColor,lineWidth:this.props.lineWidth,imageMargin:this.props.imageMargin,updateLabel:this.props.updateLabel,removeLabel:this.props.removeLabel,setActivityOptions:this.props.setActivityOptions}}}]),t}(V.PureComponent),s(_.prototype,"handleChangeMargin",[Le.a],Object.getOwnPropertyDescriptor(_.prototype,"handleChangeMargin"),_.prototype),s(_.prototype,"handleCreateLabel",[Le.a],Object.getOwnPropertyDescriptor(_.prototype,"handleCreateLabel"),_.prototype),s(_.prototype,"handleUploadImage",[Le.a],Object.getOwnPropertyDescriptor(_.prototype,"handleUploadImage"),_.prototype),_),mt=yt,ft=mt,bt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("image","IMAGE_TYPE","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelsLayout.jsx"),__REACT_HOT_LOADER__.register(dt,"DropImageIcon","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelsLayout.jsx"),__REACT_HOT_LOADER__.register(yt,"LabelsLayout","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelsLayout.jsx"),__REACT_HOT_LOADER__.register(mt,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/components/configuration/LabelsLayout.jsx"))}(),i(282)),_t=i(635),Ot=x()({},_t.a,{createLabel:function(){return{type:le.CREATE_LABEL}},updateLabel:function(e,t){return{type:le.UPDATE_LABEL,payload:{index:t,labelOptions:e}}},removeLabel:function(e){return{type:le.REMOVE_LABEL,payload:e}}}),kt=function(e){return Object(bt.bindActionCreators)(Ot,e)},Et=kt,Lt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ot,"actions","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/store/actions.js"),__REACT_HOT_LOADER__.register(kt,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/store/actions.js"))}(),function(e){return{showRestart:e.showRestart,showAnswers:e.showAnswers,playFeedbackSounds:e.playFeedbackSounds,lineColor:e.lineColor,lineWidth:e.lineWidth,imageMargin:e.imageMargin,labels:e.labels,score:e.score,image:e.image}}),At=(O=Object(te.connect)(Lt,Et))(k=function(e){function t(){return C()(this,t),P()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H()(t,e),j()(t,[{key:"render",value:function(){return F.a.createElement("div",{className:_e.configurationBlock},F.a.createElement(ft,this.layoutProps),F.a.createElement(Se,this.buttonsLineProps))}},{key:"buttonsLineProps",get:function(){return{score:this.props.score,showRestart:this.props.showRestart,showAnswers:this.props.showAnswers,playFeedbackSounds:this.props.playFeedbackSounds,setActivityOptions:this.props.setActivityOptions}}},{key:"layoutProps",get:function(){return{lineColor:this.props.lineColor,lineWidth:this.props.lineWidth,imageMargin:this.props.imageMargin,labels:this.props.labels,image:this.props.image,createLabel:this.props.createLabel,updateLabel:this.props.updateLabel,removeLabel:this.props.removeLabel,setActivityOptions:this.props.setActivityOptions}}}]),t}(V.PureComponent))||k,wt=At,Dt=wt,xt=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Lt,"mapStateToProps","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Configuration.jsx"),__REACT_HOT_LOADER__.register(At,"Configuration","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Configuration.jsx"),__REACT_HOT_LOADER__.register(wt,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Configuration.jsx"))}(),i(655)),Tt=i(656),Ct=i(657),Rt=i(658),jt=function(e){return e},Bt=F.a.createElement(Dt,null),Pt=F.a.createElement(Tt.a,null),St=F.a.createElement(Ct.a,null),zt=(E=Object(te.connect)(jt,Et))((w=A=function(e){function t(){var e,i,o,r;C()(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=o=P()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.thumbnails=!1,o.validationStrategy=be,r=i,P()(o,r)}return H()(t,e),j()(t,[{key:"tabs",get:function(){return[{title:"Settings",content:Bt},{title:"Options",content:Pt},{title:"How To",content:F.a.createElement(Rt.a,{url:ve.o.HOW_TO_URL})}]}},{key:"alterViews",get:function(){var e=ve.a.PREVIEW;return re()({},e,St)}}]),t}(xt.a),A.propTypes=xt.a.propTypes,A.childContextTypes=xt.a.childContextTypes,L=w))||L,Mt=zt,Ht=Mt,Ut=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(jt,"mapStateToProps","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Labeling.jsx"),__REACT_HOT_LOADER__.register(zt,"Labeling","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Labeling.jsx"),__REACT_HOT_LOADER__.register(Mt,"default","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/containers/Labeling.jsx"))}(),i(649));i.d(t,"provider",function(){return Wt}),i.d(t,"Model",function(){return Ft});var It=this,Nt=F.a.createElement(Ht,null),Wt=function(){var e=W()(I.a.mark(function e(t,i){var o,r,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(ce.l)(ge(i),null,Z.a),r=F.a.createElement(te.Provider,{store:o},Nt),X.a.render(r,t),n=F.a.createElement(ie.AppContainer,null,r);case 5:case"end":return e.stop()}},e,It)}));return function(t,i){return e.apply(this,arguments)}}(),Vt=0,Ft=function(e){function t(){return C()(this,t),P()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H()(t,e),j()(t,[{key:"getValidProps",value:function(e){var i=Object.keys(this.lineSchema),o=Object.keys(this.labelSchema),r=$()(e);return Array.isArray(e.labels)&&e.labels.length?r.labels=r.labels.map(function(e){return e instanceof Object?(e.lineOptions instanceof Object?e.lineOptions=ee()(e.lineOptions,i):delete r.lineOptions,ee()(e,o)):null}).filter(function(e){return!!e}):delete r.labels,z()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getValidProps",this).call(this,r)}},{key:"dotSchema",get:function(){return{x:q.a.number(),y:q.a.number()}}},{key:"lineSchema",get:function(){return{dot1:q.a.object().keys(this.dotSchema),dot2:q.a.object().keys(this.dotSchema)}}},{key:"labelSchema",get:function(){return{labelId:q.a.number().positive(),value:q.a.string().error(new ce.c("labelValue",ve.i.LABELING_LABEL_VALUE_ERROR)),altText:q.a.string().allow(""),lineOptions:q.a.object().keys(this.lineSchema)}}},{key:"imageSchema",get:function(){return{url:q.a.string().regex(/^data:image\/\w{3,};base64,.+/),width:q.a.number().positive(),height:q.a.number().positive()}}},{key:"schema",get:function(){return x()({id:q.a.number().greater(0).integer(),type:q.a.string().valid(ve.o.TYPE),name:q.a.string().min(2),showRestart:q.a.boolean(),showAnswers:q.a.boolean(),playFeedbackSounds:q.a.boolean(),lineColor:q.a.string().regex(/^#[0-9a-f]{6}$/i),lineWidth:q.a.number().positive().integer(),imageMargin:q.a.number().min(0),background:q.a.string().error(new ce.c("image",ve.i.LABELING_IMAGE_ERROR)),image:q.a.object().keys(this.imageSchema).error(new ce.c("image",ve.i.LABELING_IMAGE_ERROR)),score:q.a.number().min(0),labels:q.a.array().min(1).items(q.a.object().keys(this.labelSchema)).error(function(e){return e[0].context.reason?e[0].context.reason[0]:new ce.c("labels",ve.i.LABELING_LABELS_ERROR)})},z()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"schema",this))}},{key:"defaultLineProps",get:function(){return{dot1:{x:15,y:5},dot2:{x:30,y:5}}}},{key:"defaultLabelProps",get:function(){return{labelId:Object(ce.p)(),value:"",altText:"",lineOptions:this.defaultLineProps}}},{key:"defaultProps",get:function(){return x()({id:++Vt,type:ve.o.TYPE,name:"Labeling "+Vt,showRestart:!1,showAnswers:!1,playFeedbackSounds:!1,lineColor:Ut.a.defaultProps.color,lineWidth:ve.o.LINE_WIDTH_LIST[0],imageMargin:0,score:0,labels:[],background:"",image:null},z()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"defaultProps",this))}}],[{key:"updateLastId",value:function(e){Number.isFinite(e)&&e>Vt&&(Vt=e)}}]),t}(de.a);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Wt,"provider","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/index.jsx"),__REACT_HOT_LOADER__.register(Vt,"lastLabelingId","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/index.jsx"),__REACT_HOT_LOADER__.register(Ft,"Model","/Users/christopherseamon/Documents/softchalk-repos/interactives/src/activities/labeling/editor/index.jsx"))}()},785:function(e,t){e.exports={configurationBlock:"c-lg-configuration"}},786:function(e,t){e.exports={buttonsLineBlock:"c-lg-buttons-line"}},787:function(e,t){e.exports={inputBlock:"c-input"}},788:function(e,t){e.exports={labelsLayoutBlock:"c-lg-labels-layout"}},789:function(e,t){e.exports={dropZoneBlock:"c-drop-zone"}},790:function(e,t){e.exports={labelingSvgBlock:"c-lg-svg"}},791:function(e,t){e.exports={svgLineBlock:"c-lg-line"}},792:function(e,t){e.exports={svgLabelBlock:"c-lg-label",svgLabelAltTextHeight:"137px",svgLabelAltTextPadding:"5px"}}});